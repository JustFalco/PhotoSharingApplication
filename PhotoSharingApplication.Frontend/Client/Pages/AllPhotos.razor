@page "/photos/all"
@using PhotoSharingApplication.Shared.Interfaces
@using PhotoSharingApplication.Shared.Entities
@inject IPhotosService photosService

<PageTitle>All Photos</PageTitle>

<h3>AllPhotos</h3>

@if (photos == null)
{
    <p>...Loading...</p>
}
else
{
    @foreach (var photo in photos)
    {
<article class="mb-3">
    <p>@photo.Id</p>
    <p>@photo.Title</p>
    <p>@photo.Description</p>
    
    <div>
        <NavLink href="@($"photos/details/{photo.Id}")">Details</NavLink>
        <NavLink href="@($"photos/update/{photo.Id}")">Update</NavLink>
        <NavLink href="@($"photos/delete/{photo.Id}")">Delete</NavLink>
    </div>
</article>
    }
}
<div class="mt-5">
    <NavLink class="oi oi-plus mt-4 pt-5" href="photos/upload"> Upload new Photo</NavLink>    
</div>


@code {
    List<Photo>? photos;

    protected override async Task OnInitializedAsync() {
        photos = await photosService.GetPhotosAsync();
    }
}
